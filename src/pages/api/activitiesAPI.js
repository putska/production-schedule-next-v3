import axios from "axios";
import convert from "xml-js";

const defaultData = [
  {
    1: "03/16/2021 03/16/2021",
    2: "05/23/2022 05/23/2022",
    3: "05/20/2021 05/20/2021",
    4: "10/14/2020 10/14/2020",
    5: "06/01/2021 06/01/2021",
    6: "12/21/2020 12/21/2020",
    7: "08/15/2022 08/15/2022",
    8: "11/07/2022 11/07/2022",
    9: "11/21/2022 11/21/2022",
    10: "10/04/2021 10/04/2021",
    11: "02/24/2022 02/24/2022",
    12: null,
    13: "06/27/2022 06/27/2022",
    14: "04/29/2022 04/29/2022",
    15: "04/12/2022 04/12/2022",
    16: null,
    17: "03/14/2022 03/14/2022",
    18: null,
    19: "11/17/2022 11/17/2022",
    20: null,
    21: null,
    22: "06/20/2022 06/20/2022",
    23: "08/22/2022 08/22/2022",
    24: "09/21/2022 09/21/2022",
    25: "10/12/2021 10/12/2021",
    26: "10/24/2022 10/24/2022",
    27: "10/17/2022 10/17/2022",
    28: "07/15/2021 07/15/2021",
    29: "07/15/2021 07/15/2021",
    Job_Number: "10-744",
    Job_Name: "1091 INDUSTRIAL ROAD",
    Note: "",
  },
  {
    1: "07/09/2021 07/09/2021",
    2: "05/02/2022 05/02/2022",
    3: "12/01/2021 12/01/2021",
    4: "06/09/2021 06/09/2021",
    5: "07/26/2021 07/26/2021",
    6: "07/27/2021 07/27/2021",
    7: "08/22/2022 08/22/2022",
    8: "11/07/2022 11/07/2022",
    9: "11/17/2022 11/14/2022",
    10: "01/31/2022 01/31/2022",
    11: null,
    12: "08/25/2021 08/25/2021",
    13: "08/22/2022 08/22/2022",
    14: "03/17/2022 03/17/2022",
    15: "04/26/2022 04/26/2022",
    16: null,
    17: null,
    18: null,
    19: "10/13/2022 10/13/2022",
    20: "04/05/2022 04/05/2022",
    21: null,
    22: "05/24/2022 05/24/2022",
    23: null,
    24: "08/22/2022 08/22/2022",
    25: "07/07/2022 07/07/2022",
    26: null,
    27: "10/06/2022 10/06/2022",
    28: "06/07/2022 06/07/2022",
    29: "06/07/2022 06/07/2022",
    Job_Number: "10-755",
    Job_Name: "UCSF Block 34",
    Note: "",
  },
];

async function loadAllActivitiesDates() {
  try {
    const response = await axios.get(
      "http://wwweb/portal/WSPTSchedule.asmx/GetChartByID"
    );
    const returnedDates = response.data;
    const jsonDates = convert.xml2json(returnedDates, {
      compact: true,
      spaces: 4,
    });
    const parsedJSON = JSON.parse(jsonDates);
    const dates = JSON.parse(parsedJSON.string._text);
    console.log("dates: ", dates);
    return dates;
  } catch (err) {
    //console.log(err);
    return defaultData;
  }
}

export default loadAllActivitiesDates;
